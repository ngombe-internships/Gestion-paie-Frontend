<div class="dashboard-container">
<app-header></app-header>
  <!-- Bouton hamburger -->
  <button class="hamburger-btn"
          [class.active]="isSidebarOpen"
          (click)="toggleSidebar()"
          aria-label="Menu de navigation">
    <div class="hamburger-icon">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </button>

  <!-- Sidebar -->
  <aside class="sidebar" [class.active]="isSidebarOpen">
    <div class="sidebar-header">
      <h3>Tableau de Bord</h3>
      <p class="welcome-message">Bienvenue, <span class="display-name">{{displayName}}</span> !</p>
    </div>



    <nav class="sidebar-nav">
      <ul>
        @if(userRole === 'ADMIN'){
          <li><a routerLink="/dashboard/overview"
                 class="nav-link"
                 (click)="onNavLinkClick()">
                 <i class="bi bi-bar-chart-fill me-2"></i>Tableau de bord</a></li>
          <li><a routerLink="/dashboard/register/employer-company"
                 class="nav-link"
                 (click)="onNavLinkClick()">Enregistrer un Employeur</a></li>
          <li><a routerLink="/dashboard/employeur"
                 class="nav-link"
                 (click)="onNavLinkClick()">Liste des employeur</a></li>
          <li><a routerLink="/dashboard/audit-logs"
             class="nav-link"
             (click)="onNavLinkClick()">Historique des activités </a></li>
        }

        @if (userRole === 'EMPLOYEUR') {
          <li><a routerLink="/dashboard/dashEmployeur"
                 class="nav-link"
                 (click)="onNavLinkClick()">
                 <i class="bi bi-bar-chart-fill me-2"></i>Tableau de bord</a></li>
          <li><a routerLink="/dashboard/entrepriseDetail"
                 class="nav-link"
                 (click)="onNavLinkClick()">Mon Profil</a></li>
          <li><a routerLink="/dashboard/register/employer"
                 class="nav-link"
                 (click)="onNavLinkClick()">Créer le compte d'un Employe</a></li>
          <li><a routerLink="/dashboard/employes"
                 class="nav-link"
                 (click)="onNavLinkClick()">Mes Employés</a></li>
          <li><a routerLink="/dashboard/element"
                 class="nav-link"
                 (click)="onNavLinkClick()">Les Elements de paie</a></li>
          <li><a routerLink="/dashboard/template"
                 class="nav-link"
                 (click)="onNavLinkClick()">Template du Bulletin</a></li>
          <li><a routerLink="/dashboard/bulletins/employeur"
                 class="nav-link"
                 (click)="onNavLinkClick()">Les Bulletins Emis</a></li>
          <li><a routerLink="/dashboard/employe-paie-config"
                 class="nav-link"
                 (click)="onNavLinkClick()">Config Emloye</a></li>
         <li><a routerLink="/dashboard/parametres"
                 class="nav-link"
                 (click)="onNavLinkClick()">Paramétres des taux</a></li>
        }

        @if (userRole === 'EMPLOYE') {
          <li><a routerLink="/dashboard/mon-profil"
                 class="nav-link"
                 (click)="onNavLinkClick()">Mon Profil</a></li>
          <li><a routerLink="/dashboard/employeBulletin"
                 class="nav-link"
                 (click)="onNavLinkClick()">Mes Bulletins de Paie</a></li>
          <li><a routerLink="/dashboard/audit-logs"
             class="nav-link"
             (click)="onNavLinkClick()">Historique des activités </a></li>
        }

        <li><a routerLink="/dashboard/change-password"
              class="nav-link"
              (click)="onNavLinkClick()">Changer Mot passe</a></li>
        <li><a (click)="logout()"
               class="nav-link logout-link">Déconnexion</a></li>

      </ul>
    </nav>
  </aside>

  <!-- Overlay pour fermer le menu -->
  <div class="sidebar-overlay"
       [class.active]="isSidebarOpen"
       (click)="closeSidebar()"></div>

  <!-- Contenu principal -->
  <main class="content">
    <div class="content-header">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>
